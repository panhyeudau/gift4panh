<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Th∆∞ g·ª≠i em</title>
  <style>
    :root{
      --bg1:#120822;
      --bg2:#2a0b2a;
      --pink:#ff4d7d;
      --gold:#ffd166;
      --card: rgba(255,255,255,.10);
      --stroke: rgba(255,255,255,.18);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --shadow: 0 26px 90px rgba(0,0,0,.50);
      --r: 26px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1100px 800px at 20% 10%, rgba(255,77,125,.22), transparent 58%),
        radial-gradient(900px 700px at 80% 30%, rgba(255,209,102,.14), transparent 58%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    /* floating hearts layer */
    .hearts{
      position:fixed; inset:0; pointer-events:none; z-index:0;
      overflow:hidden;
    }
    .heart{
      position:absolute; bottom:-60px;
      font-size:18px;
      opacity:.85;
      animation: floatUp linear forwards;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
    }
    @keyframes floatUp{
      from{ transform: translateY(0) translateX(0) scale(1); opacity:.0; }
      10%{ opacity:.85; }
      to{ transform: translateY(-110vh) translateX(var(--drift)) scale(var(--scale)); opacity:0; }
    }

    .wrap{
      position:relative; z-index:1;
      min-height:100%;
      display:grid;
      place-items:center;
      padding: 18px 14px 44px;
    }

    .shell{
      width:min(980px, 94vw);
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border-radius: var(--r);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      overflow:hidden;
    }

    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 16px 16px 12px;
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .brand{display:flex; gap:10px; align-items:center;}
    .dot{
      width:12px;height:12px;border-radius:999px;
      background: radial-gradient(circle at 30% 30%, #fff, var(--pink));
      box-shadow: 0 0 18px rgba(255,77,125,.55);
    }
    .title{font-weight:900; letter-spacing:.2px}
    .sub{color:var(--muted); font-size:13px; margin-top:2px}

    .actions{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
    .btn{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding:10px 12px;
      border-radius: 16px;
      cursor:pointer;
      font-weight:850;
      transition: transform .08s ease, background .2s ease;
      user-select:none;
    }
    .btn:hover{background:rgba(255,255,255,.10)}
    .btn:active{transform:translateY(1px)}
    .btn.primary{
      border-color: rgba(255,77,125,.45);
      background: rgba(255,77,125,.18);
    }

    .main{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:14px;
      padding: 14px 14px 16px;
    }
    @media (max-width: 880px){
      .main{grid-template-columns:1fr}
    }

    .left, .right{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.12);
      border-radius: var(--r);
      padding: 16px;
      position:relative;
      overflow:hidden;
    }

    .glow{
      position:absolute; inset:-40%;
      background:
        radial-gradient(circle at 25% 25%, rgba(255,77,125,.24), transparent 55%),
        radial-gradient(circle at 75% 60%, rgba(255,209,102,.16), transparent 55%);
      filter: blur(18px);
      opacity:.9;
      animation: pulse 4.6s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}

    .hero{
      position:relative;
      padding: 6px 6px 4px;
    }
    .hero h1{
      margin:0 0 6px;
      font-size: 22px;
      line-height:1.25;
      font-weight: 950;
    }
    .hero p{
      margin:0;
      color:var(--muted);
      line-height:1.65;
      font-size: 14px;
    }

    .sealRow{
      display:flex;
      gap:10px;
      align-items:center;
      margin-top: 14px;
      flex-wrap:wrap;
    }
    .chip{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      border-radius:999px;
      padding: 8px 10px;
      font-size: 13px;
      color: rgba(255,255,255,.78);
      display:inline-flex; gap:8px; align-items:center;
    }

    /* timeline cards */
    .timeline{margin-top:12px; display:grid; gap:10px}
    .card{
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border-radius: 20px;
      padding: 14px 14px;
      transform: translateY(12px);
      opacity:0;
      transition: opacity .65s ease, transform .65s ease;
    }
    .card.show{opacity:1; transform:translateY(0)}
    .k{font-size:12px; font-weight:900; letter-spacing:.5px; color:rgba(255,255,255,.78)}
    .h{margin:6px 0 6px; font-size:17px; font-weight:950}
    .t{margin:0; color:rgba(255,255,255,.80); line-height:1.7}

    /* ‚Äúpaper‚Äù modal */
    .modal{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      padding: 16px;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(8px);
      z-index:50;
      overflow-y:auto;
      -webkit-overflow-scrolling:touch;
      align-items:flex-start;
    }
    .modal.show{display:grid}
    .paper{
      width:min(780px, 95vw);
      margin: 18px auto;
      background: rgba(255,255,255,.95);
      color:#111;
      border-radius: 26px;
      box-shadow: 0 30px 95px rgba(0,0,0,.55);
      padding: 18px 18px 16px;
      max-height: calc(100vh - 36px);
      overflow:auto;
      position:relative;
    }
    .paper::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(800px 240px at 50% -40px, rgba(255,77,125,.12), transparent 60%),
        linear-gradient(to bottom, rgba(0,0,0,.03), transparent 40%);
      border-radius: 26px;
      pointer-events:none;
    }
    .close{
      position:absolute; right:12px; top:12px;
      width:42px; height:42px; border-radius:16px;
      border:0; cursor:pointer;
      background: rgba(0,0,0,.06);
      font-weight:950;
      z-index:2;
    }
    .close:hover{background:rgba(0,0,0,.10)}
    .paper h2{margin:0 0 10px; font-size:20px; position:relative; z-index:1}
    .letter{
      position:relative; z-index:1;
      line-height:1.8;
      font-size:16px;
      white-space: normal;
    }
    .sig{
      margin-top:14px;
      opacity:.9;
      font-weight:850;
    }
    .type{
      border-right: 2px solid rgba(17,17,17,.55);
      padding-right: 2px;
      animation: caret 1s steps(2) infinite;
    }
    @keyframes caret{ 50%{border-right-color: transparent;} }

    .rightBox{
      position:relative;
      padding: 8px 6px 6px;
    }
    .mini{
      color:var(--muted);
      font-size:13px;
      line-height:1.65;
      margin: 0 0 10px;
    }
    .quote{
      margin-top:12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      border-radius: 20px;
      padding: 14px;
      text-align:center;
    }
    .quote b{font-weight:950}
    .foot{
      margin-top:10px;
      color:rgba(255,255,255,.62);
      font-size:12.5px;
      text-align:center;
    }

    .toast{
      position:fixed; left:50%; bottom:14px; transform:translateX(-50%);
      background: rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.18);
      color:rgba(255,255,255,.9);
      padding:10px 12px;
      border-radius: 14px;
      display:none;
      z-index:60;
      font-size:13px;
    }
    .toast.show{display:block}
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="wrap">
    <div class="shell">
      <div class="top">
        <div class="brand">
          <div class="dot"></div>
          <div>
            <div class="title">Noel y√™u xa</div>
            <div class="sub">Cu·ªôn xu·ªëng ƒë·ªÉ t·ª´ng m·ªëc hi·ªán d·∫ßn. B·∫•m ‚ÄúM·ªü th∆∞‚Äù ƒë·ªÉ ƒë·ªçc h·∫øt.</div>
          </div>
        </div>
        <div class="actions">
          <button class="btn" id="musicBtn">‚ô´ B·∫≠t nh·∫°c</button>
          <button class="btn primary" id="openBtn">üíå M·ªü th∆∞</button>
        </div>
      </div>

      <div class="main">
        <div class="left">
          <div class="glow"></div>

          <div class="hero">
            <h1>D√π ·ªü xa, Noel n√†y anh v·∫´n ch·ªçn ·ªü ‚Äúc·∫°nh em‚Äù, theo c√°ch anh c√≥ th·ªÉ.</h1>
            <p>ƒê√¢y l√† cu·ªën nh·∫≠t k√Ω nh·ªè c·ªßa t·ª•i m√¨nh. M·ªói ƒëo·∫°n l√† m·ªôt m·ªëc ‚Äî nh·∫π th√¥i, nh∆∞ng th·∫≠t.</p>

            <div class="sealRow">
              <div class="chip">ü§ç <span>Th∆∞ tay</span></div>
              <div class="chip">üéÑ <span>Noel</span></div>
              <div class="chip">ü´∂ <span>Y√™u xa</span></div>
            </div>
          </div>

          <div class="timeline" id="timeline">
            <div class="card">
              <div class="k">M·ªêC 01</div>
              <div class="h">Ng√†y quen nhau</div>
              <p class="t"><b>[dd/mm/yyyy]</b> ‚Äî Ng√†y m√¨nh b·∫Øt ƒë·∫ßu n√≥i chuy·ªán, anh kh√¥ng nghƒ© m·ªçi th·ª© s·∫Ω ƒëi xa ƒë·∫øn v·∫≠y. Nh∆∞ng t·ª´ l√∫c ƒë√≥, anh bi·∫øt c√≥ m·ªôt ng∆∞·ªùi khi·∫øn anh mu·ªën ch·∫≠m l·∫°i v√† l·∫Øng nghe nhi·ªÅu h∆°n.</p>
            </div>

            <div class="card">
              <div class="k">M·ªêC 02</div>
              <div class="h">L·∫ßn c√£i nhau</div>
              <p class="t"><b>[m·ªôt l·∫ßn kh√≥ qu√™n]</b> ‚Äî Anh kh√¥ng t·ª± h√†o v·ªÅ l·∫ßn ƒë√≥. Anh ƒë√£ n√≥ng v√† thi·∫øu tinh t·∫ø. Sau l·∫ßn ·∫•y, anh hi·ªÉu: y√™u kh√¥ng ph·∫£i ƒë√∫ng‚Äìsai, m√† l√† bi·∫øt d·ª´ng l·∫°i ƒë·ªÉ gi·ªØ nhau.</p>
            </div>

            <div class="card">
              <div class="k">M·ªêC 03</div>
              <div class="h">L·∫ßn nh·ªõ nh·∫•t</div>
              <p class="t"><b>[m·ªôt kho·∫£nh kh·∫Øc c·ª• th·ªÉ]</b> ‚Äî C√≥ nh·ªØng l√∫c kh√¥ng n√≥i g√¨, ch·ªâ im l·∫∑ng m√† nh·ªõ. Nh·ªõ gi·ªçng n√≥i, nh·ªõ c√°ch em quan t√¢m nh·ªØng ƒëi·ªÅu nh·ªè. Anh nh·∫≠n ra: nh·ªõ em l√† m·ªôt th√≥i quen r·∫•t kh√≥ b·ªè.</p>
            </div>

            <div class="card">
              <div class="k">M·ªêC 04</div>
              <div class="h">Noel nƒÉm nay (xa nhau)</div>
              <p class="t"><b>24/12/[nƒÉm]</b> ‚Äî Noel n√†y m√¨nh kh√¥ng ·ªü c·∫°nh nhau. Nh∆∞ng anh v·∫´n mu·ªën em bi·∫øt: trong ƒë√™m n√†y, anh v·∫´n d√†nh tr·ªçn s·ª± hi·ªán di·ªán c·ªßa m√¨nh cho em, theo c√°ch anh c√≥ th·ªÉ.</p>
            </div>

            <div class="card">
              <div class="k">M·ªêC 05</div>
              <div class="h">T∆∞∆°ng lai</div>
              <p class="t">Anh kh√¥ng h·ª©a nh·ªØng ƒëi·ªÅu l·ªõn lao. Anh ch·ªâ h·ª©a s·∫Ω ki√™n nh·∫´n h∆°n, tinh t·∫ø h∆°n, v√† y√™u em b·∫±ng h√†nh ƒë·ªông r√µ r√†ng h∆°n m·ªói ng√†y. Anh mu·ªën ƒë·ªçc ti·∫øp cu·ªën nh·∫≠t k√Ω n√†y c√πng em ‚Äî ·ªü ngo√†i ƒë·ªùi.</p>
            </div>
          </div>
        </div>

        <div class="right">
          <div class="glow"></div>

          <div class="rightBox">
            <p class="mini">
              ‚Ä¢ Nh·∫°c ch·ªâ ph√°t sau khi b·∫•m (quy ƒë·ªãnh tr√¨nh duy·ªát).<br/>
              ‚Ä¢ B·∫°n s·ª≠a n·ªôi dung c√°c m·ªëc b·∫±ng c√°ch thay ph·∫ßn trong ngo·∫∑c <b>[...]</b>.<br/>
              ‚Ä¢ B·∫•m ‚ÄúM·ªü th∆∞‚Äù ƒë·ªÉ ƒë·ªçc b·∫£n th∆∞ ƒë·∫ßy ƒë·ªß (typewriter).
            </p>

            <div class="quote">
              <div style="font-size:16px; line-height:1.6;">
                <b>‚ÄúAnh ch·ªù ng√†y ƒë∆∞·ª£c ƒë·ªçc ti·∫øp c√πng em, ·ªü ngo√†i ƒë·ªùi.‚Äù</b> ü§ç
              </div>
              <div class="foot">‚Äî [T√™n c·ªßa b·∫°n]</div>
            </div>

            <div class="foot" style="margin-top:12px;">
              Tip: N·∫øu web kh√¥ng c·∫≠p nh·∫≠t, h√£y Ctrl+Shift+R.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- modal letter -->
  <div class="modal" id="modal">
    <div class="paper" role="dialog" aria-modal="true">
      <button class="close" id="closeBtn" aria-label="ƒê√≥ng">‚úï</button>
      <h2>G·ª≠i em,</h2>

      <!-- N·ªôi dung th∆∞: b·∫°n c√≥ th·ªÉ g·ªôp 1 ƒëo·∫°n ƒë·ªÉ kh√¥ng xu·ªëng d√≤ng -->
      <div class="letter" id="typed"></div>

      <div class="sig">‚Äî <b>[T√™n c·ªßa b·∫°n]</b> ü§ç</div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <audio id="bgm" preload="auto" loop>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <script>
    // ====== HEARTS ======
    const hearts = document.getElementById('hearts');
    const heartChars = ["ü§ç","üíó","üíñ","üíù","üíû"];
    function spawnHeart(){
      const h = document.createElement('div');
      h.className = 'heart';
      h.textContent = heartChars[Math.floor(Math.random()*heartChars.length)];
      const left = Math.random()*100;
      const drift = (Math.random()*2-1)*80;
      const dur = 6 + Math.random()*7;
      const scale = 0.85 + Math.random()*1.25;
      h.style.left = left + 'vw';
      h.style.setProperty('--drift', drift + 'px');
      h.style.setProperty('--scale', scale);
      h.style.animationDuration = dur + 's';
      hearts.appendChild(h);
      setTimeout(()=>h.remove(), dur*1000);
    }
    setInterval(spawnHeart, 520);
    for(let i=0;i<10;i++) setTimeout(spawnHeart, i*120);

    // ====== SCROLL REVEAL ======
    const cards = document.querySelectorAll('.card');
    const io = new IntersectionObserver((entries)=>{
      for(const e of entries){
        if(e.isIntersecting) e.target.classList.add('show');
      }
    }, {threshold: 0.18});
    cards.forEach(c=>io.observe(c));

    // ====== MODAL + TYPEWRITER ======
    const modal = document.getElementById('modal');
    const openBtn = document.getElementById('openBtn');
    const closeBtn = document.getElementById('closeBtn');
    const typed = document.getElementById('typed');

    const fullText =
`Noel nƒÉm nay m√¨nh ·ªü xa nhau, v√† ƒëi·ªÅu ƒë√≥ l√†m anh bu·ªìn nhi·ªÅu h∆°n anh n√≥i ra. Nh∆∞ng anh v·∫´n mu·ªën em c·∫£m th·∫•y ƒë∆∞·ª£c y√™u, ƒë∆∞·ª£c tr√¢n tr·ªçng, v√† ƒë∆∞·ª£c ‚Äú·ªü c√πng anh‚Äù theo c√°ch ri√™ng. N·∫øu h√¥m nay em m·ªát, em ch·ªâ c·∫ßn ƒë·ªçc ƒë·∫øn ƒë√¢y th√¥i c≈©ng ƒë∆∞·ª£c. C√≤n n·∫øu em mu·ªën, anh s·∫Ω k·ªÉ ti·∫øp b·∫±ng h√†nh ƒë·ªông ‚Äî m·ªói ng√†y m·ªôt ch√∫t, ƒë·ªÉ m√¨nh g·∫ßn nhau h∆°n. Th∆∞∆°ng em ü§ç`;

    let typingTimer = null;
    function typeText(text){
      typed.innerHTML = '';
      let i = 0;
      const span = document.createElement('span');
      span.className = 'type';
      typed.appendChild(span);

      clearInterval(typingTimer);
      typingTimer = setInterval(()=>{
        span.textContent = text.slice(0, i++);
        if(i > text.length){
          clearInterval(typingTimer);
          span.classList.remove('type');
        }
      }, 18);
    }

    function openModal(){
      modal.classList.add('show');
      typeText(fullText);
    }
    function closeModal(){
      modal.classList.remove('show');
      clearInterval(typingTimer);
    }

    openBtn.addEventListener('click', (e)=>{ e.preventDefault(); openModal(); });
    closeBtn.addEventListener('click', (e)=>{ e.preventDefault(); closeModal(); });
    modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeModal(); });

    // ====== MUSIC ======
    const bgm = document.getElementById('bgm');
    const musicBtn = document.getElementById('musicBtn');
    const toast = document.getElementById('toast');
    let musicOn = false;

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'), 2200);
    }

    async function toggleMusic(){
      try{
        if(!musicOn){
          await bgm.play();
          musicOn = true;
          musicBtn.textContent = "‚ùö‚ùö T·∫Øt nh·∫°c";
          showToast("Nh·∫°c ƒë√£ b·∫≠t ‚ô´");
        }else{
          bgm.pause();
          musicOn = false;
          musicBtn.textContent = "‚ô´ B·∫≠t nh·∫°c";
          showToast("ƒê√£ t·∫Øt nh·∫°c");
        }
      }catch(err){
        showToast("Kh√¥ng ph√°t ƒë∆∞·ª£c nh·∫°c: h√£y th√™m file music.mp3");
      }
    }
    musicBtn.addEventListener('click', (e)=>{ e.preventDefault(); toggleMusic(); });
  </script>
</body>
</html>
